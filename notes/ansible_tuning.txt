Ansible tuning

how many forks? 5 is the default.
memcapacity - number of forks driven by memory
cpucapacity - number of forks driven by cpu capacity

50 forks for 4GB RAM
10 forks per 1GB RAM (rule of thumb)

set forks in the job template

ssh settings

1. ControlPersist (aka ssh multiplexing)

2. Streamline SSH connection options

defaults to everything
set up ssh args in ansible.cfg to use publickeys

3. Enable SSH pipelining

keeps the session open


Yum calls are expensive
use an array in the yum module name

shell module calls are expensive
use command if possible
or replace shell calls with custom modules

turn off gather_facts if possible

Callback_whitelist = profile_tasks,timer

use tags to break up a large playbook
tags = install, config, check

execution strategy: free vs serial
increase ssh timeouts for remote connections
increase prompt timeouts too.

Tower 3.7.1 optimized inventory jobs




























